<!DOCTYPE html>
<html>
<head th:replace="~{/layout/header::oceanHead('song')}"></head>
</head>
<style>
	.container {
		margin-left : 300px;
	}
</style>
<script>
   function fnSearchSong() {
      $.ajax({
         type : 'get',
         url : '/song/search-artist.do',
         data : $('#frmSongSearch').serialize(),
         dataType : 'json',
         success : function(resData) {
            $('#trackList').empty();
            if(resData.status == 200){   // 성공 (목록 o)
            	for (var i = 0; i < resData.tracks.length; i++) {
                    var track = resData.tracks[i];
                    var title = track.title;
                    var artist = track.artistName;

                    var trackElement = $('').html('Title: ' + title + ', Artist: ' + artist);
                    // resultContainer.append($('#trackList'));
                    $('#trackList').append(trackElement);
              	}
            } else if(resData.status == 500){   // 실패 (목록 x)
               let str = '<tr>';
               str += '<td colspan="4">조회된 결과가 없습니다.';
               $('#trackList').append(str);
         }
      }
   })
}


   
</script>
<body>
	<header th:replace="~{/layout/header::oceanHeader}"></header>
	
	<nav class="container">
	<!-- 검색 구현 -->
	<form id="frmSongSearch">
	   <div>
	      <label for="search">노래 검색</label>
	      <input type="text" name="search" id="search" placeholder="검색">
	      <input type="button" value="검색하기 버튼" onclick="fnSearchSong()">
	   </div>
	</form>
   
	<div>
	   <table>
	      <thead>
	         <tr>
	            <td>artistName</td>
	            <td>title</td>
	            <td>albumName</td>
	            <td>imageUrl</td>
	         </tr>
	      </thead>
	      <tbody id="trackList">
	         
	      </tbody>
	   </table>
	</div>
   </nav>
   
</body>
</html>